<mat-card class="m-2">
  <div class="mx-3 mb-2">

    <!-- Qunicorn Picture-->
    <div>
      <img class="image" src="../../../../assets/qunicorn_quadratic_png.png" alt="Qunicorn Service" />
    </div>

    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center">
      <mat-tab label="Submit Deployment">
        <div class="container">
          <div class="input-frame">
            <form (ngSubmit)="submitDeployment()">
              <p class="description">Define the name, the circuit and the type of the circuit for the deployment:</p>
              <input style="width: 100%; height: auto;" [(ngModel)]="deploymentName" name="deploymentName"
                placeholder="PlanQK-UseCase" />
              <textarea #userInputTextArea [(ngModel)]="userInput" name="userInput" [placeholder]= "placeholderCircuit" [rows]="numRows"></textarea>
<!--
"OPENQASM 2.0;
include &quot;qelib1.inc&quot;;
qreg q[2];
creg meas[2];
h q[0];
cx q[0],q[1];
barrier q[0],q[1];
measure q[0] -&gt; meas[0];
measure q[1] -&gt; meas[1];" rows="10"></textarea>
              -->
              <div class="radio-group">
                <label>
                  <input type="radio" [(ngModel)]="selectedLanguage" name="language" value="QASM2"
                    [checked]="selectedLanguage === 'QASM2'" (change)="updatePlaceholder()"/>
                  QASM2
                </label>
                <label>
                  <input type="radio" [(ngModel)]="selectedLanguage" name="language" value="QASM3" (change)="updatePlaceholder()" />
                  QASM3
                </label>
                <label>
                  <input type="radio" [(ngModel)]="selectedLanguage" name="language" value="QISKIT" (change)="updatePlaceholder()" />
                  QISKIT
                </label>
                <label>
                  <input type="radio" [(ngModel)]="selectedLanguage" name="language" value="BRAKET" (change)="updatePlaceholder()"/>
                  BRAKET
                </label>
              </div>

              <button mat-flat-button color="primary" type="submit">Submit Deployment Definitions</button>
            </form>
          </div>

          <!-- <button mat-flat-button color="primary" (click)="submitDeployment()">Submit Definitions</button> -->
          <div class="response-frame">
            <p class="description">Deployment Response:</p>
            <pre>{{ deploymentResponse }}</pre>
          </div>


          <div class="response-frame">
            <p class="description">Get a list of available deployments:</p>
            <div class="button-container">
              <button mat-flat-button color="primary" (click)="getDeployments()">Get Deployments</button>
            </div>
            <pre>{{ getDeploymentResponse }}</pre>
          </div>
        </div>

      </mat-tab>
      <mat-tab label="Invoke Job">
        <div class="input-frame">
          <form (ngSubmit)="invokeJob()">
            <p class="description"> Choose a JobName:</p>
            <input [(ngModel)]="jobName" name="jobName" placeholder="PlanQK-Job" />
            <p class="description"> Input your Deployment ID from the response in Step 1:</p>
            <input [(ngModel)]="deploymentID" name="deploymentID" placeholder=3 />
            <p class="description">Choose the platform where the Job should be running {{selectedPlatform}} and {{selectedDevice}}:</p>
            <div class="radio-group">
              <label>
                <input type="radio" [(ngModel)]="selectedPlatform" name="platform" value="IBM"
                  [checked]="selectedPlatform ==='IBM'" />
                IBM
              </label>
              <label>
                <input type="radio" [(ngModel)]="selectedPlatform" name="platform" value="AWS" />
                AWS
              </label>
            </div>
            <button mat-flat-button color="primary" type="submit">Invoke Job</button>
          </form>
        </div>


        <div class="response-frame">
          <p class="description">Job Response:</p>
          <pre>{{ jobResponse }}</pre>
        </div>

        <div class="response-frame">
          <p class="description">Get a list of Jobs:</p>
          <div class="button-container">
            <button mat-flat-button color="primary" (click)="getJobs()">Get Jobs</button>
          </div>
          <pre>{{ response }}</pre>
        </div>
      </mat-tab>

      <mat-tab label="Get Results">
        <!-- <button id="Results" color="primary" (click)="getResults()">Get Results</button> -->
        <div class="input-frame">
          <form (ngSubmit)="getResults(jobID)">
            <p class="description">Get the results by using the Job ID from Step 2:</p>
            <input [(ngModel)]="jobID" name="jobID" placeholder=5 />
            <button mat-flat-button color="primary" type="submit">Get Results</button>
          </form>
        </div>
        <!-- <app-histogram-plot [counts]="{'0': 2007, '11': 1993}"></app-histogram-plot> -->
        <div class="response-frame">
          <div *ngIf="result">
            <h3>Counts:</h3>
            <ul>
              <li *ngFor="let count of counts | keyvalue">
                {{ count.key }}: {{ count.value }}
              </li>
            </ul>

            <h3>Probabilities:</h3>
            <ul>
              <li *ngFor="let probability of probabilities | keyvalue">
                {{ probability.key }}: {{ probability.value }}
              </li>
            </ul>
          </div>
        </div>

      </mat-tab>
    </mat-tab-group>

  </div>
</mat-card>